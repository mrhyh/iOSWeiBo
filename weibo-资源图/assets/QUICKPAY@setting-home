{"data":{"children":[{"children":[{"content":"text/html; charset=UTF-8","http-equiv":"Content-Type","tag":"meta"},{"src":"setting-home.js","tag":"script"},{"children":[{"tag":"text","text":"var is_flybird=navigator.userAgent.toLowerCase().indexOf(\"flybird\")>=0;var is_android=navigator.userAgent.toLowerCase().indexOf(\"android\")>=0;var path=is_android?\"com.alipay.android.app/\":\"AlipaySDK.bundle/\";var nav_back_png=path+\"back.png\";var arrow_right_png=path+\"arrow_right.png\";var close_png=path+\"close.png\";var fingerPay=flybird.rpcData.fingerPay;var spasswordPay=flybird.rpcData.spasswordPay;var switch_nopwd=flybird.rpcData.switch_nopwd;if(fingerPay==undefined){fingerPay=flybird.rpcData.braceletPay}if(switch_nopwd==undefined){flybird.rpcData.switch_nopwd=false;switch_nopwd=false}var nopwd_index=0;for(var i=0;i<flybird.rpcData.nopwd_limit.length;i++){if(flybird.rpcData.nopwd_limit_default==flybird.rpcData.nopwd_limit[i]){nopwd_index=i;break}}var index=-1;var greyArray=new Array();var greenArray=new Array();function createSwitch(d,g,f){var c=document.getElementById(d);var e=document.createElement(\"div\");e.id=g;e.className=\"sw_by_css\";e.onclick=f;var b=document.createElement(\"div\");b.className=\"sw_white\";e.appendChild(b);var a=document.createElement(\"div\");a.className=\"sw\";e.appendChild(a);c.appendChild(e)}function update_switch_css(b,d){if(is_flybird){return}var c=b.querySelector(\".sw_white\");var a=b.querySelector(\".sw\");if(d){b.style.backgroundColor=\"#4cd864\";c.style.width=\"0px\";c.style.height=\"0px\";c.style.left=\"30px\";a.style.margin=\"0px 0px 0px 21.5px\";a.style.left=\"0px\";a.style.boxShadow=\"\"}else{b.style.backgroundColor=\"#e4e4e4\";c.style.width=\"48px\";c.style.height=\"28px\";c.style.left=\"1.5px\";a.style.margin=\"0px\";a.style.left=\"-46.5px\";a.style.boxShadow=\"2px 3px 8px 2px #e4e4e4\"}}function update_nopwd(){var d=document.getElementById(\"middle_line\");var b=document.getElementById(\"select_box\");var c=document.getElementById(\"nopwd_tip\");var a=document.getElementById(\"nopwd_tip_text\");if(switch_nopwd){d.style.opacity=1;d.style.height=\"1\";b.style.height=\"66px\";c.style.opacity=1;c.style.paddingTop=10;c.style.height=a.offsetHeight}else{d.style.opacity=0;d.style.height=\"0px\";b.style.height=\"0px\";c.style.opacity=0;c.style.paddingTop=0;c.style.height=\"0px\"}}function goto_setting_channel(){ant.submit({action:{name:\"/setting/channel\"}})}function onSwitch_nopwd(){switch_nopwd=!switch_nopwd;update_switch_css(document.getElementById(\"switch_nopwd_css\"),switch_nopwd);update_nopwd()}function updateState(){if(index!=nopwd_index){if(index>=0){greyArray[index].className=\"animation box_flex circle_grey_small\";greenArray[index].style.opacity=1;greenArray[index].style.width=\"0px\";greenArray[index].style.height=\"0px\"}greyArray[nopwd_index].className=\"animation box_flex circle_grey_big\";greenArray[nopwd_index].style.opacity=1;greenArray[nopwd_index].style.width=\"20px\";greenArray[nopwd_index].style.height=\"20px\";index=nopwd_index}var b=document.getElementById(\"pwd_area\");var a=document.getElementById(\"spwd_area\");if(fingerPay){}else{if(spasswordPay){b.style.display=\"none\";a.style.display=\"block\"}else{b.style.display=\"block\";a.style.display=\"none\"}}var c=\"使用手机付款，金额<=\"+flybird.rpcData.nopwd_limit[index]+\"元/\";if(flybird.rpcData.nopwd_new_func_open){c+=\"笔\"}else{c+=\"日\"}c+=\"，无需输入支付密码。\";document.getElementById(\"nopwd_tip_text\").innerText=c}function select(a){nopwd_index=a;updateState()}function createElement_npwd(g,b){var a=document.createElement(\"div\");a.className=\"box_flex_vert\";a.onclick=function(){select(b)};var e=document.createElement(\"div\");e.className=\"box_flex circle_container\";e.onclick=function(){select(b)};a.appendChild(e);var f=document.createElement(\"div\");f.className=\"animation box_flex circle_grey_small\";f.id=\"circle\";f.onclick=function(){select(b)};e.appendChild(f);var d=document.createElement(\"div\");d.className=\"animation circle_green\";d.onclick=function(){select(b)};d.id=\"circle_green\";f.appendChild(d);var c=document.createElement(\"label\");c.className=\"number\";c.innerText=g+\"元\";a.appendChild(c);return a}function submit(){var c=getSubmitObj();if(fingerPay){var b={action:{name:flybird.rpcData.authAction}};c.nativeValidate=true;b.param=c;ant.asyncSubmit(b,function(e){var d=e.status.substr(-2);if(d==\"04\"||d==\"05\"){fingerPay=false;openDlg()}else{if(d==\"09\"){ant.submit({action:{name:\"loc:back\"}})}}})}else{if(spasswordPay){var a=document.querySelector(\"#spwd\").encryptValue;if(!a){a=document.querySelector(\"#spwd\").value}c.spwd=a}else{c.pwd=document.getElementById(\"pwd\").value}c.encryptType=\"RSA\";var b={action:{name:\"/setting/save\"}};b.param=c;ant.asyncSubmit(b,function(d){openDlg()});closeDlg()}}function onPwdInput(){var a=document.getElementById(\"pwd\").value;if(a.length>0){document.getElementById(\"btn_main\").disabled=false}else{document.getElementById(\"btn_main\").disabled=true}}function onSpwdInput(){var a=document.getElementById(\"spwd\").value;if(a.length>=6){submit()}}function getSubmitObj(){var b={};if(switch_nopwd!=flybird.rpcData.switch_nopwd){b.switch_nopwd=switch_nopwd}if(switch_nopwd==true){var a=flybird.rpcData.nopwd_limit[nopwd_index];if(a!=flybird.rpcData.nopwd_limit_default){b.nopwd_limit_default=a}}return b}function inputSetKeyboardState(a){if(spasswordPay){if(a==\"focus\"){document.getElementById(\"spwd\").focus()}else{document.getElementById(\"spwd\").blur()}}else{if(a==\"focus\"){document.getElementById(\"pwd\").focus()}else{document.getElementById(\"pwd\").blur()}}}function onBack(){var a=getSubmitObj();if(Object.keys(a).length===0){ant.submit({action:{name:\"loc:back\"}});return}if(fingerPay){submit()}else{openDlg()}}function openDlg(){updateState();document.getElementById(\"dlg\").showModal();inputSetKeyboardState(\"focus\")}function closeDlg(){document.getElementById(\"dlg\").close();inputSetKeyboardState(\"blur\");document.getElementById(\"pwd\").value=\"\";document.getElementById(\"spwd\").value=\"\";document.getElementById(\"btn_main\").disabled=true}function oncloseDlg(){closeDlg();ant.submit({action:{name:\"loc:back\"}})}function init(){if(is_android){document.getElementById(\"ios_nav\").style.display=\"none\";document.getElementById(\"nav_back_img_android\").src=nav_back_png}else{if(!is_android){}else{document.getElementById(\"android_nav\").style.display=\"none\"}document.getElementById(\"nav_back_img\").src=nav_back_png}document.getElementById(\"close_img\").src=close_png;document.getElementById(\"arrow_right_img\").src=arrow_right_png;if(is_flybird){is_flybird=true;document.getElementById(\"switch_nopwd\").value=switch_nopwd}else{createSwitch(\"cell_nopwd\",\"switch_nopwd_css\",function(){onSwitch_nopwd()});var f=document.querySelectorAll(\".sw_by_css\");for(var a=0;a<f.length;a++){if(a==0){update_switch_css(f[a],switch_nopwd)}}f=document.querySelectorAll(\".switch\");for(var a=0;a<f.length;a++){f[a].style.display=\"none\"}}var g=document.getElementById(\"nopwd_tip\");var d=document.getElementById(\"nopwd_tip_text\");g.style.height=d.offsetHeight;var e=document.getElementById(\"select_box\");for(var c=0;c<flybird.rpcData.nopwd_limit.length;c++){var b=createElement_npwd(flybird.rpcData.nopwd_limit[c],c);e.appendChild(b)}greyArray=document.querySelectorAll(\".circle_grey_small\");greenArray=document.querySelectorAll(\".circle_green\");updateState();update_nopwd();if(flybird.rpcData.nopwd_show==true){document.getElementById(\"nopwd_tip\").className=\"common_cell_footer_box\"}else{document.getElementById(\"npwd_area\").style.display=\"none\";document.getElementById(\"nopwd_tip\").className=\"common_cell_footer_empty_box\";document.getElementById(\"nopwd_tip_text\").innerText=\" \"}};"}],"tag":"script","type":"text/javascript"},{"children":[{"tag":"text","text":".animation {transition:0.25s;}\n.box_flex {display:-webkit-box; -webkit-box-align:center; -webkit-box-pack:center;}\n.box_flex_vert {height:100%; -webkit-box-flex:1.0;  display:-webkit-box; -webkit-box-align:center; -webkit-box-pack:center;  -webkit-box-orient: vertical;}\n\n.circle_container {width:32px; height:32px; margin-bottom:5px;}\n\n.circle_grey_small {width:25px; height:25px; background-color:#efefef; border-radius:12.5px; box-shadow:0px 0px 0px 0px #e4e4e4; border:#e4e4e4 0px solid;}\n.circle_grey_big {width:32px; height:32px; border-radius:16px; background-color:#f5f5f5; box-shadow:2px 2px 8px 2px #e4e4e4; border:#e4e4e4 0.5px solid; }\n.circle_green  {width:0px; height:0px; background-color:#4cd864; border-radius:10px; }\n\n.number {font-size:13px; color:#999999;}\n\n.sw_white {transition:0.2s; position:relative; left:1.5px; height:28px; width:48px; background-color:#fefefe; border-radius:14px;}\n.sw {box-shadow:2px 3px 8px 2px #e4e4e4; border: #cccccc 0.5px solid ; transition:0.2s;  position:relative; left:-46.5px; height:28px; width:28px; border-radius:13.5px; background-color:#ffffff;}\n.sw_by_css {display:-webkit-box; -webkit-box-align:center; height:31px; width:51px; background-color:#e4e4e4; border-radius:15.5px;}"}],"tag":"style"},{"href":"AlipaySDK.bundle/common.css","rel":"stylesheet","tag":"link","type":"text/css"},{"href":"com.alipay.android.app/common.css","rel":"stylesheet","tag":"link","type":"text/css"}],"tag":"head"},{"children":[{"children":[{"children":[{"children":[{"css":"common_nav_left_img","id":"nav_back_img","tag":"img"},{"children":[{"tag":"text","text":"返回"}],"css":"common_nav_left_text","tag":"p"}],"css":"common_nav_left_box","onclick":"onBack()","tag":"div"},{"children":[{"children":[{"tag":"text","text":"支付设置"}],"css":"common_nav_center_text","tag":"label"}],"css":"common_nav_center_box","tag":"div"},{"css":"common_nav_right_box","onclick":"onEdit()","tag":"div"}],"css":"common_nav_box","id":"ios_nav","tag":"div"},{"children":[{"children":[{"children":[{"css":"common_nav_left_img_android","id":"nav_back_img_android","tag":"img"}],"css":"common_nav_back_box_android","onclick":"onBack()","tag":"div"},{"css":"common_nav_line_android","tag":"div"},{"children":[{"tag":"text","text":"支付设置"}],"css":"common_nav_center_text common_p_reset","tag":"label"}],"css":"common_nav_title_android","id":"nav_back","tag":"div"},{"css":"common_nav_right_box","tag":"div"}],"css":"common_nav_box_android","id":"android_nav","tag":"div"}],"tag":"nav"},{"children":[{"css":"common_1px_line common_cell_animation","tag":"div"},{"children":[{"children":[{"children":[{"tag":"text","text":"默认付款方式"}],"css":"common_cell_center_box_text","tag":"label"}],"style":"-webkit-box-flex:1.0;","tag":"div"},{"id":"arrow_right_img","tag":"img"}],"css":"common_cell common_padding_left_right common_cell_animation","onclick":"goto_setting_channel()","tag":"div"},{"css":"common_1px_line common_cell_animation","tag":"div"},{"children":[{"css":"common_cell_footer_empty_box","tag":"div"},{"css":"common_1px_line common_cell_animation","tag":"div"},{"children":[{"children":[{"children":[{"tag":"text","text":"小额免密支付"}],"css":"common_cell_center_box_text","tag":"label"}],"style":"-webkit-box-flex:1.0;","tag":"div"},{"css":"switch common_checkbox_android","id":"switch_nopwd","oninput":"onSwitch_nopwd()","tag":"input","type":"checkbox"}],"css":"common_cell common_padding_left_right common_cell_animation","id":"cell_nopwd","tag":"div"},{"css":"common_1px_line common_cell_animation","id":"middle_line","tag":"div"},{"id":"select_box","style":"height:66px; margin-top:0px; background-color:#ffffff; display:-webkit-box; overflow:hidden; transition:0.375s;","tag":"div"},{"css":"common_1px_line common_cell_animation","tag":"div"}],"id":"npwd_area","tag":"div"},{"children":[{"css":"common_cell_footer_text","id":"nopwd_tip_text","tag":"label"}],"css":"common_cell_animation","id":"nopwd_tip","tag":"div"},{"children":[{"children":[{"children":[{"id":"close_img","style":"margin:15px;","tag":"img"}],"onclick":"oncloseDlg()","style":"width:40px; height:100%;","tag":"div"},{"children":[{"children":[{"tag":"text","text":"保存当前设置"}],"style":"font-size:17px; color:#000000;","tag":"label"}],"style":"display:-webkit-box; -webkit-box-align:center; -webkit-box-pack:center; -webkit-box-flex:1.0;","tag":"div"},{"style":"width:40px; height:100%;","tag":"div"}],"style":"height:48.5px; display:-webkit-box; -webkit-box-align:center; -webkit-box-pack:center;","tag":"div"},{"css":"common_1px_line","tag":"div"},{"children":[{"children":[{"tag":"text","text":"请输入支付密码，保存设置"}],"style":"font-size:14px; color:#999999;","tag":"label"}],"css":"box_flex","style":"padding-top:15px; padding-bottom:20px;","tag":"div"},{"children":[{"id":"spwd","oninput":"onSpwdInput()","style":"width:268px; height:47px;  border-radius:4px; border:1 #cccccc; background-color:#ffffff; border-radius:4px;","tag":"input","type":"payword"}],"id":"spwd_area","style":"display:none; padding:0px 15px 15px 15px;","tag":"div"},{"children":[{"id":"pwd","oninput":"onPwdInput()","placeholder":"支付密码","style":"width:253px; display:block; height:47px; font-size:14px; padding-left:15px; border-radius:4px; border:1 #cccccc; background-color:#ffffff;","tag":"input","type":"password"},{"children":[{"tag":"text","text":"确定"}],"css":"common_button_main","disabled":"disabled","id":"btn_main","onclick":"submit()","style":"width:270px; margin-top:15px;","tag":"button"}],"css":"common_padding_left_right","id":"pwd_area","style":"display:none; width:100%; height:120px;","tag":"div"}],"id":"dlg","onkeydown":"oncloseDlg();","style":"width:300px; border:0px; background-color:#F5F5F5; border-radius:8px; padding:0px;","tag":"dialog"}],"css":"common_full_main","id":"main_body","tag":"div"}],"css":"common_full_body","onkeydown":"onBack();","onload":"init()","tag":"body"}],"tag":"html"},"format":"JSON","name":"setting-home","publishVersion":"150702","tag":"QUICKPAY","time":"0003","tplId":"QUICKPAY@setting-home","tplVersion":"5.0.0"}