{"data":{"children":[{"children":[{"content":"text/html; charset=UTF-8","http-equiv":"Content-Type","tag":"meta"},{"content":"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, minimal-ui","name":"viewport","tag":"meta"},{"src":"cashier-activity.js","tag":"script"},{"children":[{"tag":"text","text":"var userAgent = navigator.userAgent.toLowerCase();\nvar isFlybird = userAgent.indexOf('flybird') >= 0; //### 是否为飞鸟引擎\nvar isAndroid = userAgent.indexOf('android') >= 0; //### 是否为android平台\nvar isIOS = (isFlybird && (!isAndroid));\n\n//### 资源路径\nvar path = isAndroid ? 'com.alipay.android.app/' : 'AlipaySDK.bundle/';\nvar alipayIconUrl = path + 'paylogo_login.png';\n\nvar arrowIsDown = true;\nvar rpcData = flybird.rpcData;\nvar foldable = rpcData.foldable; //##是否折叠\n\n//### 缩减代码量\nfunction getById(id) {\n    return document.getElementById(id);\n}\n\nfunction create(tagName){\n    return document.createElement(tagName);\n}\nfunction onFinish() {\n    ant.submit({\"action\":{\"name\":\"loc:exit\"}});\n}\n\nfunction createItem(info,price)\n{\n    var itemBox = create('div');\n    itemBox.className = 'item_box';\n    \n    var leftBox = create('div');\n    leftBox.className = 'common_immersion_item_detail_left_box';\n    var leftLabel = create('label');\n    leftLabel.className = 'common_immersion_item_detail_left_text';\n    leftLabel.innerText = info;\n    leftBox.appendChild(leftLabel);\n    \n    var rightBox = create('div');\n    rightBox.className = 'common_immersion_item_detail_right_box';\n    var rightLabel = create('label');\n    rightLabel.className = 'common_immersion_item_detail_right_text';\n    rightLabel.innerText = price;\n    rightBox.appendChild(rightLabel);\n    \n    itemBox.appendChild(leftBox);\n    itemBox.appendChild(rightBox);\n    \n    return itemBox;\n}\nfunction createDetailItems(items)\n{\n    var itemsContainer = getById('details');\n    \n    for(var i = 0; i < items.length; i++){\n        itemsContainer.appendChild(createItem(items[i]['info'],items[i]['price']));\n    }\n}\n\nfunction init() {\n    if(isAndroid){\n\t\tgetById('iosNav').style.display = 'none';\n\t} else {\n        if (!isFlybird) {\n            getById('androidNav').style.display = 'none';\n        }\n\t}\n    \n    //### 加载图片资源\n    getById('payLogo').src = alipayIconUrl;\n    var aTitle = getById('aTitle');\n    if (rpcData.bizType == 'deposit'){\n        aTitle.value = '充值成功';\n    }\n\n    if(rpcData.randomDiscount){\n        getById('activityDiv').style.display = 'none';\n        getById('iframeDiv').style.display = 'none';\n        getById('randomDiscount').style.display = 'block';\n        getById('bottomLine').style.display = 'block';\n        \n        getById('actualPaidLabel').innerText = rpcData.actualPaid;\n        getById('payDetailLabel').innerText = rpcData.payDetail;\n        createDetailItems(rpcData.detail);\n    }else {\n        getById('activityText').value = rpcData.activity_text;\n        var adFrame = getById('adFrame');\n        adFrame.src = rpcData.recommend_content;\n        var h = window.innerHeight;\n        if (!isFlybird) {\n            h -= getById('nav').offsetHeight;\n        }\n        h = h - getById('mainBody').offsetHeight - 15;\n        adFrame.style.height = h;\n        adFrame.height = h;\n    }\n}\n\nfunction submit(){\n    //### 确认\n    ant.submit({\"action\":{\"name\":rpcData.nextAction}});\n}"}],"tag":"script","type":"text/javascript"},{"href":"AlipaySDK.bundle/common.css","rel":"stylesheet","tag":"link","type":"text/css"},{"children":[{"tag":"text","text":".center_middle_text{\n    font-size:21px;\n}\n.center_large_text {\n    -webkit-box-flex:1.0;\n    font-size:25px;\n    line-height:25px;\n    text-align:center;\n    color:#000;\n}\n.hidden {\n    display:none;\n}\n.item_box{\n    display:-webkit-box;\n    -webkit-box-align:center;\n    padding-top:6px;\n}\n.common_padding_top{\n    padding-top:15px;\n}\n.padding_top_bottom{\n    padding-top:9px;\n    padding-bottom:12px;\n}\n.padding_bottom{\n    padding-bottom:25px;\n}\n.padding_top {\n    padding-top:25px;\n}\n.drop_down_div\n{\n    height:0px;\n    overflow:hidden;\n    margin-bottom:10.5px;\n}"}],"tag":"style"}],"tag":"head"},{"children":[{"children":[{"children":[{"css":"common_nav_left_box","id":"navBack","tag":"div"},{"children":[{"children":[{"tag":"text","text":"支付宝"}],"css":"common_nav_center_text","tag":"label"}],"css":"common_nav_center_box","tag":"div"},{"children":[{"children":[{"tag":"text","text":"完成"}],"css":"common_nav_right_text common_theme_text_color","id":"nav_right_label","tag":"label"}],"css":"common_nav_right_box","onclick":"onFinish()","tag":"div"}],"css":"common_nav_box","id":"iosNav","tag":"div"},{"children":[{"children":[{"children":[{"tag":"text","text":"支付宝"}],"css":"common_nav_center_text common_p_reset","style":"padding-left:17px;","tag":"label"}],"css":"common_nav_title_android","id":"navBack","tag":"div"},{"css":"common_nav_line_android","style":"margin-right:0px;","tag":"div"},{"children":[{"children":[{"tag":"text","text":"完成"}],"css":"common_nav_right_text","id":"nav_right_label_android","style":"margin-left:1px;","tag":"label"}],"css":"common_nav_right_box_android","onclick":"onFinish()","tag":"div"}],"css":"common_nav_box_android","id":"androidNav","tag":"div"}],"id":"nav","tag":"nav"},{"children":[{"children":[{"children":[{"id":"payLogo","style":"width:60px;height:60px;","tag":"img"}],"css":"common_padding_bottom","style":"text-align:center;","tag":"div"},{"children":[{"children":[{"tag":"text","text":"支付成功"}],"css":"common_theme_text_color center_middle_text","id":"aTitle","tag":"label"}],"style":"text-align:center;","tag":"div"},{"children":[{"css":"common_cell_small_text_light_color","id":"activityText","style":"font-size:14px;","tag":"label"}],"css":"common_padding_top_bottom common_padding_left_right","id":"activityDiv","style":"text-align:center;","tag":"div"}],"css":"common_padding_left_right padding_top common_cell_bg_color","tag":"div"},{},{"children":[{"children":[{"css":"center_large_text","id":"actualPaidLabel","tag":"label"}],"css":"common_immersion_title_center_box common_padding_top_bottom common_padding_left_right","tag":"div"},{"children":[{"css":"common_cell_small_text_size common_cell_small_text_light_color","id":"payDetailLabel","tag":"label"}],"css":"common_immersion_title_center_box padding_bottom common_padding_left_right","tag":"div"},{"css":"common_2px_line","tag":"div"},{"css":"padding_top_bottom common_padding_left_right","id":"details","tag":"div"}],"css":"hidden common_cell_bg_color","id":"randomDiscount","tag":"div"},{"css":"common_2px_line hidden","id":"bottomLine","tag":"div"}],"id":"mainBody","tag":"div"},{"children":[{"id":"adFrame","style":"width:100%;","tag":"iframe"}],"css":"common_padding_top","id":"iframeDiv","tag":"div"}],"css":"common_full_body","id":"body","onkeydown":"onFinish();","onload":"init()","tag":"body"}],"tag":"html"},"format":"JSON","name":"cashier-activity","publishVersion":"150917","tag":"QUICKPAY","time":"0004","tplId":"QUICKPAY@cashier-activity","tplVersion":"5.0.0"}