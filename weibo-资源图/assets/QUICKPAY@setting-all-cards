{"data":{"children":[{"children":[{"content":"text/html; charset=UTF-8","http-equiv":"Content-Type","tag":"meta"},{"content":"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, minimal-ui","name":"viewport","tag":"meta"},{"src":"setting-all-cards.js","tag":"script"},{"src":"amc-weibo.js","tag":"script"},{},{"src":"AlipaySDK.bundle/amc-weibo.js","tag":"script"},{"children":[{"tag":"text","text":"var DEBIT_CARD = 0;\nvar CREDIT_CARD = 1;\n//别名\nvar getTag = amc.fn.getTag;\nvar create = amc.fn.create;\nvar rpc = amc.rpc;\nfunction init() {\n    if(amc.isAndroid) {\n        amc.fn.hide('iosNav');\n        getTag('navBackImgAndroid').src = amc.res.navBack;\n        getTag('navRightImgAndroid').src = amc.path + 'alipay_msp_add.png';\n    } else {\n        amc.fn.hide('androidNav');\n        getTag('navBackImg').src = amc.res.navBack;\n        getTag('navRightImg').src = amc.path + 'alipay_msp_add.png';\n    }\n    \n    for (var i = 0; rpc.creditCards && i < rpc.creditCards.length; i++){\n        createCard(rpc.creditCards[i], CREDIT_CARD);\n    }\n    \n    for (var i = 0; rpc.debitCards && i < rpc.debitCards.length; i++){\n        createCard(rpc.debitCards[i], DEBIT_CARD);\n    }\n    \n    getTag('mainBody').style.height = window.innerHeight;\n}\n\nfunction  onBack()\n{\n    var backAct = {'action':{'name': rpc['backAction'] || 'loc:back'}};\n    ant.submit(backAct);\n}\n\nfunction onAdd()\n{\n    ant.submit({'action': {'name': '/setting/addCard'}});\n}\nfunction settingCard(signId)\n{\n    var obj = {\n        'action':{\n            'name':'/setting/cardLimit',\n            'params':{'selected_card': signId || ''\n            }\n        }\n    };\n    \n    ant.submit(obj);\n}\n\nfunction createCard(cardInfo, cardType) {\n    var cardColor = amc.fn.cardColor(cardInfo['color']);    \n    var cardBox = getTag('cardBox');\n    var card = create('div', 'amc-v-box amc-pd-lr-xs', cardBox);\n    var line = create('div', 'amc-dark-line', cardBox);\n    \n    var upperBox = create('div', cardColor + ' amc-card-upper', card);\n    var bottoom = create('div', cardColor + ' amc-card-bottom', card);\n    \n    //为了安卓平台的(渐变色)性能，需要指定宽度\n    upperBox.style.width = window.innerWidth - 50;\n    bottoom.style.width = window.innerWidth - 20;\n\n    var upperContent = create('div', 'amc-align-center amc-box', upperBox);\n    var bottomContent = create('div', 'amc-no-box', upperBox);\n    \n    var whiteCircle =  create('div', 'amc-card-circle amc-bg-white amc-box-center', upperContent);\n    var titleBox = create('div', 'amc-v-box amc-margin-l amc-pack-center amc-flex-1', upperContent);\n    \n    var logo = create('img','amc-card-logo', whiteCircle);\n    var cardName = create('label', 'amc-font-l amc-color-white amc-box amc-ellipsis', titleBox);\n    var cardTypeLabel = create('label', 'amc-font-xxs amc-color-white amc-box', titleBox);\n    \n    // ***字符没有垂直居中(ASCII字符集的原因)，需要额外嵌套一个div，指定padding-top\n    var cardMaskBox = create('div','amc-pd-t-s amc-box', bottomContent);\n    var cardMask = create('label', 'amc-font-card-mask amc-color-white amc-opacity', cardMaskBox);\n    cardMask.innerText = '*** **** **** ';\n    var cardNo = create('label', 'amc-font-card-no amc-box amc-color-white', bottomContent);\n\n    logo.src = cardInfo['logoUrl'] || '';\n    logo.defaultvalue = amc.res.bankLogo;\n    cardName.innerText = cardInfo['desc'] || '';\n    cardNo.innerText = cardInfo['cardNoLast4'] || '';\n    cardTypeLabel.innerText = (cardType === CREDIT_CARD) ? '信用卡' : '储蓄卡';\n    \n    card.onclick = function(){\n        settingCard(cardInfo['signId']);\n    };\n}"}],"tag":"script","type":"text/javascript"},{"href":"AlipaySDK.bundle/amc-weibo.css","rel":"stylesheet","tag":"link","type":"text/css"},{"href":"com.alipay.android.app/amc-weibo.css","rel":"stylesheet","tag":"link","type":"text/css"},{"tag":"style"}],"tag":"head"},{"children":[{},{"children":[{"children":[{"children":[{"css":"amc-nav-l-img","id":"navBackImg","tag":"img"},{"children":[{"tag":"text","text":"返回"}],"css":"amc-nav-l-text","tag":"p"}],"css":"amc-nav-l-box","id":"navBack","onclick":"onBack()","tag":"div"},{"children":[{"children":[{"tag":"text","text":"我的银行卡"}],"css":"amc-nav-m-text","tag":"label"}],"css":"amc-nav-m-box","tag":"div"},{"children":[{"id":"navRightImg","tag":"img"}],"css":"amc-nav-r-box","onclick":"onAdd();","tag":"div"}],"css":"amc-nav","id":"iosNav","tag":"div"},{"children":[{"children":[{"children":[{"css":"amc-nav-l-img-android","id":"navBackImgAndroid","tag":"img"}],"css":"amc-nav-back-box-android","onclick":"onBack()","tag":"div"},{"css":"amc-nav-line-android","tag":"div"},{"children":[{"tag":"text","text":"我的银行卡"}],"css":"amc-nav-m-text-android  amc-p-reset","tag":"label"}],"css":"amc-nav-title-android","id":"navBack","tag":"div"},{"children":[{"id":"navRightImgAndroid","tag":"img"}],"css":"amc-nav-r-box-android","onclick":"onAdd();","tag":"div"}],"css":"amc-nav-box-android","id":"androidNav","tag":"div"}],"tag":"nav"},{"children":[{"css":"amc-pd-lr-xs amc-v-box","id":"cardBox","tag":"div"},{"children":[{"children":[{"tag":"text","text":"资金安全由众安保险承保，极速全额赔付"}],"css":"amc-bottom-text amc-box amc-margin-t","tag":"label"}],"css":"amc-pack-center amc-box","tag":"div"}],"css":"amc-v-box amc-bg-dark-blue amc-scroll","id":"mainBody","tag":"div"}],"css":"amc-body amc-v-box amc-bg-dark-blue","id":"body","onkeydown":"onBack();","onload":"init()","tag":"body"}],"tag":"html"},"format":"JSON","name":"setting-all-cards","publishVersion":"150924","tag":"QUICKPAY","time":"0024","tplId":"QUICKPAY@setting-all-cards","tplVersion":"5.0.1"}
