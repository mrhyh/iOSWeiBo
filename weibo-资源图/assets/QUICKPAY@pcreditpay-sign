{"data":{"children":[{"children":[{"content":"text/html; charset=UTF-8","http-equiv":"Content-Type","tag":"meta"},{"content":"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, minimal-ui","name":"viewport","tag":"meta"},{"src":"pcreditpay-sign.js","tag":"script"},{"src":"common.js","tag":"script"},{"src":"AlipaySDK.bundle/common.js","tag":"script"},{"children":[{"tag":"text","text":"var loadingGif=path+\"loading.gif\";var successNoRepeatGif=path+\"success_norepeat.gif\";var androidFingerPng=path+\"mini_finger.png\";var arrowLeftPng=path+\"arrow_left.png\";var pcreditPayPng=path+\"pcreditpaylogo.png\";var protocolURL=\"https://fun.alipay.com/bank/index.htm?page=HBFWXY\";var creditAmount=\"0\";var dueDay=\"\";var fingerPay=rpcData.fingerPay;var wearablePay=rpcData.wearablePay;var wearablePayText=\"验证智能设备...\";var payAction=rpcData.payAct;if(fingerPay==undefined){fingerPay=false}if(rpcData.creditAmount){creditAmount=rpcData.creditAmount}if(rpcData.dueDay){dueDay=rpcData.dueDay}if(!wearablePay){wearablePay=rpcData.braceletPay;wearablePayText=\"验证手环...\"}if(payAction==undefined){payAction=\"/cashier/pay\"}var isAndroidFingerPayHuawei=(isAndroid&&fingerPay&&rpcData.fpProtocolType==\"2\");function init(){if(rpcData.authAction){var c=rpcData.authAction;var a=\"loc:auth('fp','null'\";var b=\"loc:auth('fp','/cashier/pay'\";rpcData.authAction=c.replace(a,b)}getById(\"left_icon\").src=arrowLeftPng;getById(\"pcreditPayLogo\").src=pcreditPayPng;getById(\"creditAmount\").innerText='信用额度<font size=\"22\">'+creditAmount+\"</font>元\";getById(\"dueDay\").innerText=\"先消费，下月\"+dueDay+\"用支付宝还款，0费用\";if(isAndroidFingerPayHuawei){getById(\"androidFingerPng\").src=androidFingerPng;getById(\"container\").style.display=\"none\";getById(\"androidFinger\").style.display=\"-webkit-box\";fingerPayHuawei();document.onreload=function(d){fingerPayHuawei()}}}function openProtocol(){ant.submit({action:{name:\"loc:openweb('\"+protocolURL+\"')\"}})}function onBack(){if(rpcData.backAct==\"back\"){ant.submit({action:{name:\"loc:back\"}})}else{ant.submit({action:{name:\"/cashier/view\"}})}}function gotoPwdArea(){var a={};a.action={name:\"loc:bnvb\"};a.param={};a.param[\"data\"]={};a.param[\"data\"][\"spasswordPay\"]=rpcData.spasswordPay;if(isAndroidFingerPayHuawei||wearablePay){}else{a.param[\"data\"][\"payOrder\"]=true}a.param[\"data\"][\"nextAction\"]=payAction;a.param[\"pcredit_sign_confirm\"]=\"Y\";a.param[\"data\"][\"pwdTip\"]=rpcData.pwdTip;a.param[\"tplid\"]=\"QUICKPAY@open-pwd-check\";a.param[\"tpl\"]=rpcData.tpl;ant.submit(a)}function onPaySuccess(){var b=getById(\"text\");getById(\"gifImg\").src=successNoRepeatGif;getById(\"container\").className=\"cashier_pre_confirm_6\";b.style.opacity=0.2;var a=setTimeout(function(){b.innerText=\"付款成功\";b.style.opacity=1},500)}function npwdPay(){var b=getById(\"confirm\");var a=getById(\"gifImg\");b.style.marginLeft=\"-50%\";a.src=loadingGif;var c={action:{name:payAction,loadtxt:\"\"}};c.action[\"neec\"]=\"6004\";c.param={};c.param[\"pcredit_sign_confirm\"]=\"Y\";ant.asyncSubmit(c,function(d){if(d.status==\"0001\"){onPaySuccess()}else{if(d.status==\"0002\"){b.style.marginLeft=\"0px\";a.src=\"\"}else{if(d.status==\"0006\"){b.style.marginLeft=\"0px\";a.src=\"\"}else{if(d.status==\"0000\"){b.style.marginLeft=\"0px\";a.src=\"\"}}}}})}function onPay(){if(rpcData.npwdPay){npwdPay();return}if(fingerPay||wearablePay){var a={action:{name:rpcData.authAction,loadtxt:\"\"}};a.param={};a.param[\"pcredit_sign_confirm\"]=\"Y\";if(wearablePay){getById(\"confirm\").style.marginLeft=\"-50%\";getById(\"text\").innerText=wearablePayText;getById(\"gifImg\").src=loadingGif}ant.asyncSubmit(a,function(c){var b=c.status.substr(-2);if(b==\"01\"){onPaySuccess()}else{if(b==\"03\"){getById(\"confirm\").style.marginLeft=\"-50%\";getById(\"gifImg\").src=loadingGif;getById(\"text\").innerText=\"正在付款...\"}else{if(b==\"09\"){ant.submit({action:{name:\"loc:exit\"}})}else{if(b==\"00\"){getById(\"confirm\").style.marginLeft=\"0%\";getById(\"gifImg\").src=\"\";getById(\"text\").innerText=\"正在付款...\"}else{if(b==\"04\"||b==\"05\"){if(isIOS){getById(\"confirm\").style.marginLeft=\"0%\";getById(\"gifImg\").src=\"\";getById(\"text\").innerText=\"正在付款...\"}gotoPwdArea()}}}}}});return}gotoPwdArea()}function onMouseDown(){getById(\"container\").style.transition=0;getById(\"container\").style.backgroundColor=\"#00a3d2\"}function onMouseUp(){getById(\"container\").style.backgroundColor=\"#00aaee\";getById(\"container\").style.transition=0.475}function fingerPayHuawei(){var a={action:{name:rpcData.authAction}};a.param={};a.param[\"pcredit_sign_confirm\"]=\"Y\";ant.asyncSubmit(a,function(b){if(b.status==\"0001\"){getById(\"fingerFextLeft\").innerText=\"支付成功\";getById(\"fingerTextRight\").style.display=\"none\"}else{if(b.status==\"0002\"){getById(\"fingerFextLeft\").innerText=\"正在验证指纹...\";getById(\"fingerTextRight\").style.display=\"none\"}else{if(b.status==\"0003\"){getById(\"fingerFextLeft\").innerText=\"正在付款...\";getById(\"fingerTextRight\").style.display=\"none\"}else{if(b.status==\"0004\"){gotoPwdArea()}else{if(b.status==\"0005\"){getById(\"fingerFextLeft\").innerText=\"指纹校验失败，请重试\";getById(\"fingerTextRight\").style.display=\"none\"}}}}}})};"}],"tag":"script","type":"text/javascript"},{"href":"AlipaySDK.bundle/common.css","rel":"stylesheet","tag":"link","type":"text/css"},{"children":[{"tag":"text","text":".move_ani {transition:0.9s; height:100%; display:inline-block; width:50%; }\n.success_ani {transition:0.475s;}"}],"tag":"style"}],"tag":"head"},{"children":[{"children":[{"children":[{"id":"left_icon","tag":"img"}],"css":"common_immersion_title_left_box","onclick":"onBack()","tag":"div"},{"children":[{"children":[{"tag":"text","text":"正在用蚂蚁花呗付款"}],"css":"common_immersion_title_center_text","id":"upTitle","tag":"label"}],"css":"common_immersion_title_center_box","id":"title_box","tag":"div"},{"css":"common_immersion_title_right_box","tag":"div"}],"css":"common_immersion_title_box","id":"common_immersion_title","tag":"div"},{"css":"common_1px_title_line","tag":"div"},{"children":[{"children":[{"children":[{"id":"pcreditPayLogo","tag":"img"}],"style":"padding-top:15px; padding-bottom:20px;","tag":"div"},{"css":"pcreditpay_sign_1","id":"creditAmount","tag":"label"},{"css":"pcreditpay_sign_1 common_cell_small_text_light_color common_p_reset","id":"dueDay","tag":"p"},{"style":"height:40px;","tag":"div"}],"css":"common_padding_left_right","style":"text-align:center;","tag":"div"},{"children":[{"children":[{"children":[{"tag":"text","text":"同意"}],"css":"pcreditpay_sign_2","style":"padding-right:5px;","tag":"label"},{"children":[{"tag":"text","text":"服务协议"}],"css":"pcreditpay_sign_2 common_theme_text_color","onclick":"openProtocol()","tag":"label"}],"css":"common_padding_left_right pcreditpay_sign_3","tag":"div"},{"children":[{"children":[{"children":[{"children":[{"children":[{"tag":"text","text":"确定付款"}],"id":"btnConfirm","style":"color:#ffffff; font-size:20px;","tag":"label"}],"style":"height:100%; display:-webkit-box; -webkit-box-align:center; -webkit-box-pack:center;","tag":"div"}],"css":"move_ani","id":"confirm","onclick":"onPay()","onmousedown":"onMouseDown()","onmouseup":"onMouseUp()","tag":"div"},{"children":[{"children":[{"children":[{"id":"gifImg","style":"width:24px; height:24px; padding-right:8px;","tag":"img"}],"css":"success_ani","tag":"div"},{"children":[{"children":[{"tag":"text","text":"正在付款"}],"css":"success_ani","id":"text","style":"color:#ffffff; font-size:20px;","tag":"label"}],"css":"success_ani","tag":"div"}],"style":"height:100%; display:-webkit-box; -webkit-box-align:center; -webkit-box-pack:center;","tag":"div"}],"css":"move_ani","id":"pay","tag":"div"}],"style":"width:200%; height:100%;","tag":"div"}],"css":"success_ani common_button_main_bgColor cashier_pre_confirm_5","id":"container","tag":"div"},{"children":[{"children":[{"id":"androidFingerPng","style":"width:45px;height:52px;","tag":"img"}],"style":"text-align:center;padding-bottom:10px;","tag":"div"},{"children":[{"children":[{"tag":"text","text":"请验证指纹或者"}],"id":"fingerFextLeft","style":"font-size:13px; color:#999999;","tag":"label"},{"children":[{"tag":"text","text":"输入密码"}],"css":"common_theme_text_color","id":"fingerTextRight","onclick":"gotoPwdArea()","style":"font-size:13px; padding-left:5px;","tag":"label"}],"style":"text-align:center;","tag":"div"}],"id":"androidFinger","style":"width:100%; height:80px; display:none; -webkit-box-orient:vertical; -webkit-box-align:center; -webkit-box-pack:center;","tag":"div"}],"css":"pcreditpay_sign_4","tag":"div"}],"css":"common_padding_top_bottom","id":"main_body","style":"-webkit-box-flex:1.0;","tag":"div"}],"css":"common_immersion_body","id":"body","onkeydown":"onBack();","onload":"init()","style":"","tag":"body"}],"tag":"html"},"format":"JSON","name":"pcreditpay-sign","publishVersion":"150806","tag":"QUICKPAY","time":"0017","tplId":"QUICKPAY@pcreditpay-sign","tplVersion":"5.0.1"}